#!/bin/bash

echo "Installing Vim..."

# Install Vim if not already installed
sudo apt update
sudo apt install vim -y

echo "Installing vim-plug..."

# Install vim-plug
curl -fLo "$HOME/.vim/autoload/plug.vim" --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

# Check if .vim already exists
if [ -d "$HOME/.vim" ]; then
    echo "Directory ~/.vim already exists and is not empty."
    echo "Backing up existing ~/.vim to ~/.vim_backup..."
    mv "$HOME/.vim" "$HOME/.vim_backup"
fi

# Clone the repository to ~/.vim
echo "Cloning Vim configurations..."
git clone https://github.com/luisvillegasbf23/my_vim.git "$HOME/.vim"

# Create a symbolic link for .vimrc from configs folder
echo "Creating symbolic link for .vimrc from configs folder..."
ln -sf "$HOME/.vim/configs/.vimrc" "$HOME/.vimrc"

# Copy additional configurations
echo "Copying additional configurations..."
cp -r "$HOME/.vim/configs/.vim" "$HOME/.vim"

echo "Installing Vim plugins..."
vim +PlugInstall +qall

echo "Vim configuration completed."

